{
  "openapi": "3.0.2",
  "info": {
    "title": "MyHordes External API",
    "description": "This documentation describes the MyHordes external API. It is currently work-in-progress.",
    "license": {
      "name": "AGPL3",
      "url": "https://spdx.org/licenses/AGPL-3.0-or-later.html"
    },
    "version": "1.0.42"
  },
  "servers": [
    {
      "url": "/api/x/"
    }
  ],
  "tags": [
    {
      "name": "XML API",
      "description": "Implements the older XML API"
    },
    {
      "name": "JSON API",
      "description": "Implements the newer Twinoid JSON API"
    }
  ],
  "paths": {
    "/v2/xml": {
      "get": {
        "tags": [
          "XML API"
        ],
        "summary": "Returns a list of available endpoints",
        "responses": {
          "200": {
            "description": "List",
            "content": {
              "application/xml": {
                "schema": {
                  "$ref": "#/components/schemas/XMLEndpointList"
                }
              }
            }
          }
        },
        "security": [
          {"secret_key":[]},
          {"user_key":[]}
        ]
      }
    },
    "/v2/xml/user": {
      "get": {
        "tags": [
          "XML API"
        ],
        "summary": "User information.",
        "responses": {
          "200": {
            "description": "List",
            "content": {
              "application/xml": {
                "schema": {
                  "$ref": "#/components/schemas/XMLGeneralResponse"
                }
              }
            }
          }
        },
        "security": [
          {"secret_key":[]},
          {"user_key":[]}
        ]
      }
    },
    "/v2/xml/items": {
      "get": {
        "tags": [
          "XML API"
        ],
        "summary": "Item information.",
        "responses": {
          "200": {
            "description": "List",
            "content": {
              "application/xml": {
                "schema": {
                  "$ref": "#/components/schemas/XMLGeneralResponse"
                }
              }
            }
          }
        },
        "security": [
          {"secret_key":[]},
          {"user_key":[]}
        ]
      }
    },
    "/v2/xml/buildings": {
      "get": {
        "tags": [
          "XML API"
        ],
        "summary": "Building information.",
        "responses": {
          "200": {
            "description": "List",
            "content": {
              "application/xml": {
                "schema": {
                  "$ref": "#/components/schemas/XMLGeneralResponse"
                }
              }
            }
          }
        },
        "security": [
          {"secret_key":[]},
          {"user_key":[]}
        ]
      }
    },
    "/v2/xml/ruins": {
      "get": {
        "tags": [
          "XML API"
        ],
        "summary": "Ruin information.",
        "responses": {
          "200": {
            "description": "List",
            "content": {
              "application/xml": {
                "schema": {
                  "$ref": "#/components/schemas/XMLGeneralResponse"
                }
              }
            }
          }
        },
        "security": [
          {"secret_key":[]},
          {"user_key":[]}
        ]
      }
    },
    "/v2/xml/pictos": {
      "get": {
        "tags": [
          "XML API"
        ],
        "summary": "Picto information.",
        "responses": {
          "200": {
            "description": "List",
            "content": {
              "application/xml": {
                "schema": {
                  "$ref": "#/components/schemas/XMLGeneralResponse"
                }
              }
            }
          }
        },
        "security": [
          {"secret_key":[]},
          {"user_key":[]}
        ]
      }
    },
    "/v2/xml/town": {
      "get": {
        "tags": [
          "XML API"
        ],
        "summary": "Town information.",
        "responses": {
          "200": {
            "description": "List",
            "content": {
              "application/xml": {
                "schema": {
                  "$ref": "#/components/schemas/XMLGeneralResponse"
                }
              }
            }
          }
        },
        "security": [
          {"secret_key":[]},
          {"user_key":[]}
        ]
      }
    }
  },
  "components": {
    "schemas": {
      "XMLGeneralResponse": {
        "description": "This schema has not been defined yet.",
        "type": "object",
        "properties": {},
        "xml": {
          "name": "hordes"
        }
      },
      "XMLEndpointList": {
        "description": "List of available endpoints",
        "type": "object",
        "properties": {
          "user": {
            "type": "string",
            "default": "https:/myhordes.de/api/x/v2/xml/user"
          },
          "items": {
            "type": "string",
            "default": "https:/myhordes.de/api/x/v2/xml/items"
          },
          "buildings": {
            "type": "string",
            "default": "https:/myhordes.de/api/x/v2/xml/buildings"
          },
          "ruins": {
            "type": "string",
            "default": "https:/myhordes.de/api/x/v2/xml/ruins"
          },
          "pictos": {
            "type": "string",
            "default": "https:/myhordes.de/api/x/v2/xml/pictos"
          },
          "town": {
            "type": "string",
            "default": "https:/myhordes.de/api/x/v2/xml/town"
          }
        },
        "xml": {
          "name": "hordes"
        }
      }

    },
    "requestBodies": {
    },
    "securitySchemes": {
      "secret_key": {
        "type": "apiKey",
        "name": "appkey",
        "in": "query",
        "description": "Application key. You can obtain this key by contacting the Technical Support. For testing purposes, you may use the following key: <code>fefe0000fefe0000fefe0000fefe0000</code>. This key is only valid in combination with a test user key."
      },
      "user_key": {
        "type": "apiKey",
        "name": "userkey",
        "in": "query",
        "description": "User key. This key is transmitted to your application when users visit it over the Application Directory. For testing purposes, you may use the following key: <code>fefe0000fefe0000fefe0000fefe0000</code>. This key is only valid when you're actively logged into MyHordes and will resolve to your own user account. Together with the secret test key, it can be used to test the API without the need of registering for a secret key."
      }
    }
  }
}